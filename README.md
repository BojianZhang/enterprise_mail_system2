# ä¼ä¸šçº§é‚®ä»¶æ”¶å‘ç³»ç»Ÿ

ä¸€ä¸ªç±»ä¼¼äºposte.ioçš„ç°ä»£åŒ–ä¼ä¸šçº§é‚®ä»¶ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šåŸŸåã€å¤šåˆ«åã€é‚®ä»¶æ”¶å‘å’Œç®¡ç†åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” ç”¨æˆ·ç®¡ç†
- ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
- JWTä»¤ç‰Œè®¤è¯
- ç”¨æˆ·ä¼šè¯ç®¡ç†
- å¤šåˆ«åæ”¯æŒ

### ğŸ“§ é‚®ä»¶åŠŸèƒ½
- **å¤šåˆ«åæ”¯æŒ**: ä¸€ä¸ªè´¦æˆ·å¯ä»¥æ‹¥æœ‰å¤šä¸ªé‚®ç®±åˆ«å
- **å¤šåŸŸåæ”¯æŒ**: æ”¯æŒç®¡ç†å¤šä¸ªé‚®ä»¶åŸŸå
- **é‚®ä»¶æ”¶å‘**: å®Œæ•´çš„é‚®ä»¶å‘é€å’Œæ¥æ”¶åŠŸèƒ½
- **é‚®ä»¶ç®¡ç†**: æ”¶ä»¶ç®±ã€å‘ä»¶ç®±ã€è‰ç¨¿ç®±ã€åƒåœ¾ç®±ç­‰æ–‡ä»¶å¤¹
- **é‚®ä»¶æœç´¢**: æ”¯æŒå…¨æ–‡æœç´¢é‚®ä»¶å†…å®¹
- **é™„ä»¶æ”¯æŒ**: é‚®ä»¶é™„ä»¶ä¸Šä¼ å’Œä¸‹è½½
- **æ˜Ÿæ ‡é‚®ä»¶**: é‡è¦é‚®ä»¶æ ‡è®°åŠŸèƒ½

### ğŸ‘¤ åˆ«åç®¡ç†
- **åˆ«ååˆ›å»º**: ä¸ºä»»æ„åŸŸååˆ›å»ºé‚®ç®±åˆ«å
- **åˆ«åé…ç½®**: è‡ªå®šä¹‰åˆ«åæ˜¾ç¤ºåç§°
- **ä¸»è¦åˆ«å**: è®¾ç½®ä¸»è¦å‘é€åˆ«å
- **åˆ«ååˆ‡æ¢**: åœ¨ä¸åŒåˆ«åé—´è½»æ¾åˆ‡æ¢æŸ¥çœ‹é‚®ä»¶

### ğŸŒ åŸŸåç®¡ç†
- **åŸŸåæ·»åŠ **: æ·»åŠ å’Œç®¡ç†å¤šä¸ªé‚®ä»¶åŸŸå
- **DNSé…ç½®**: è‡ªåŠ¨ç”ŸæˆMXã€SPFã€DKIMã€DMARCè®°å½•
- **åŸŸåç»Ÿè®¡**: æŸ¥çœ‹åŸŸåä¸‹çš„åˆ«åå’Œé‚®ä»¶ç»Ÿè®¡

### ğŸ”§ æŠ€æœ¯ç‰¹æ€§
- **ç°ä»£åŒ–UI**: åŸºäºReact + TypeScript + Tailwind CSS
- **RESTful API**: Node.js + Express + TypeScriptåç«¯
- **æ•°æ®åº“**: MySQLæ•°æ®åº“å­˜å‚¨
- **é‚®ä»¶æœåŠ¡**: SMTP/IMAPåè®®æ”¯æŒ
- **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **Node.js** - JavaScriptè¿è¡Œç¯å¢ƒ
- **Express.js** - Webæ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **MySQL** - æ•°æ®åº“
- **JWT** - èº«ä»½è®¤è¯
- **Nodemailer** - é‚®ä»¶å‘é€
- **IMAP** - é‚®ä»¶æ¥æ”¶
- **bcrypt** - å¯†ç åŠ å¯†

### å‰ç«¯
- **React 18** - UIæ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **React Router** - è·¯ç”±ç®¡ç†
- **React Hook Form** - è¡¨å•ç®¡ç†
- **Axios** - HTTPå®¢æˆ·ç«¯
- **Headless UI** - æ— å¤´ç»„ä»¶

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
enterprise_mail_system/
â”œâ”€â”€ backend/                 # åç«¯APIæœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/         # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ middleware/     # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ routes/         # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ types/          # TypeScriptç±»å‹
â”‚   â”‚   â””â”€â”€ index.ts        # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â””â”€â”€ .env.example
â”œâ”€â”€ frontend/               # å‰ç«¯Webåº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ contexts/       # Reactä¸Šä¸‹æ–‡
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/       # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ types/          # TypeScriptç±»å‹
â”‚   â”‚   â””â”€â”€ App.tsx         # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tailwind.config.js
â””â”€â”€ database/
    â””â”€â”€ schema.sql          # æ•°æ®åº“ç»“æ„
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚
- Node.js >= 16.x
- MySQL >= 8.0
- npm æˆ– yarn

### 2. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd enterprise_mail_system
```

### 3. æ•°æ®åº“è®¾ç½®
```bash
# åˆ›å»ºæ•°æ®åº“
mysql -u root -p
CREATE DATABASE enterprise_mail;

# å¯¼å…¥æ•°æ®åº“ç»“æ„
mysql -u root -p enterprise_mail < database/schema.sql
```

### 4. åç«¯è®¾ç½®
```bash
cd backend

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘.envæ–‡ä»¶ï¼Œè®¾ç½®æ•°æ®åº“è¿æ¥å’Œå…¶ä»–é…ç½®

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### 5. å‰ç«¯è®¾ç½®
```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm start
```

### 6. è®¿é—®åº”ç”¨
- å‰ç«¯: http://localhost:3001
- åç«¯API: http://localhost:3000/api/health

## âš™ï¸ é…ç½®è¯´æ˜

### åç«¯ç¯å¢ƒå˜é‡ (.env)
```bash
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=enterprise_mail

# JWTé…ç½®
JWT_SECRET=your_jwt_secret_key
JWT_EXPIRES_IN=24h

# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=development

# é‚®ä»¶æœåŠ¡å™¨é…ç½®
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=

IMAP_HOST=localhost
IMAP_PORT=993
IMAP_SECURE=true

# é‚®ä»¶åŒæ­¥é…ç½®
ENABLE_EMAIL_SYNC=true
EMAIL_SYNC_INTERVAL=60000

# æ–‡ä»¶ä¸Šä¼ é…ç½®
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=26214400

# å‰ç«¯URL
FRONTEND_URL=http://localhost:3001
```

### å‰ç«¯ç¯å¢ƒå˜é‡ (.env)
```bash
REACT_APP_API_URL=http://localhost:3000/api
```

## ğŸ“ APIæ–‡æ¡£

### è®¤è¯æ¥å£
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/logout` - ç”¨æˆ·ç™»å‡º
- `GET /api/auth/verify` - éªŒè¯ä»¤ç‰Œ

### åˆ«åç®¡ç†
- `GET /api/aliases` - è·å–ç”¨æˆ·åˆ«ååˆ—è¡¨
- `POST /api/aliases` - åˆ›å»ºæ–°åˆ«å
- `PUT /api/aliases/:id` - æ›´æ–°åˆ«åä¿¡æ¯
- `DELETE /api/aliases/:id` - åˆ é™¤åˆ«å
- `PUT /api/aliases/:id/primary` - è®¾ç½®ä¸»è¦åˆ«å

### é‚®ä»¶ç®¡ç†
- `GET /api/emails` - è·å–é‚®ä»¶åˆ—è¡¨
- `GET /api/emails/:id` - è·å–é‚®ä»¶è¯¦æƒ…
- `POST /api/emails` - å‘é€é‚®ä»¶
- `GET /api/emails/search` - æœç´¢é‚®ä»¶
- `PUT /api/emails/:id/read` - æ ‡è®°å·²è¯»/æœªè¯»
- `PUT /api/emails/:id/star` - æ˜Ÿæ ‡é‚®ä»¶
- `PUT /api/emails/:id/folder` - ç§»åŠ¨åˆ°æ–‡ä»¶å¤¹
- `DELETE /api/emails/:id` - åˆ é™¤é‚®ä»¶

### åŸŸåç®¡ç† (ç®¡ç†å‘˜)
- `GET /api/domains` - è·å–æ‰€æœ‰åŸŸå
- `GET /api/domains/active` - è·å–æ´»è·ƒåŸŸå
- `POST /api/domains` - åˆ›å»ºåŸŸå
- `PUT /api/domains/:id` - æ›´æ–°åŸŸå
- `DELETE /api/domains/:id` - åˆ é™¤åŸŸå
- `GET /api/domains/:domain/dns` - è·å–DNSé…ç½®

## ğŸ”§ éƒ¨ç½²æŒ‡å—

### Dockeréƒ¨ç½² (æ¨è)
```bash
# æ„å»ºé•œåƒ
docker-compose build

# å¯åŠ¨æœåŠ¡
docker-compose up -d
```

### æ‰‹åŠ¨éƒ¨ç½²
1. æ„å»ºå‰ç«¯
```bash
cd frontend
npm run build
```

2. æ„å»ºåç«¯
```bash
cd backend
npm run build
```

3. ä½¿ç”¨PM2éƒ¨ç½²
```bash
npm install -g pm2
pm2 start dist/index.js --name "enterprise-mail-api"
```

### Nginxé…ç½®
```nginx
server {
    listen 80;
    server_name your-domain.com;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /path/to/frontend/build;
        try_files $uri $uri/ /index.html;
    }

    # APIä»£ç†
    location /api {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## ğŸ“§ é‚®ä»¶æœåŠ¡å™¨é…ç½®

### Postfix (SMTP)
```bash
# å®‰è£…Postfix
sudo apt-get install postfix

# é…ç½®/etc/postfix/main.cf
myhostname = mail.yourdomain.com
mydomain = yourdomain.com
myorigin = $mydomain
inet_interfaces = all
mydestination = $myhostname, localhost.$mydomain, localhost, $mydomain
```

### Dovecot (IMAP)
```bash
# å®‰è£…Dovecot
sudo apt-get install dovecot-imapd dovecot-pop3d

# åŸºæœ¬é…ç½®
sudo nano /etc/dovecot/dovecot.conf
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ› é—®é¢˜åé¦ˆ

å¦‚æœä½ å‘ç°ä»»ä½•é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·åœ¨ [Issues](issues) é¡µé¢æäº¤ã€‚

## â­ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œæµ‹è¯•è€…ã€‚